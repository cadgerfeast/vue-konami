import{S as e,i as t,s as n,p as s,D as o,u as a,v as c,b as i,E as l,w as r,P as u,M as d,a as h,x as f,N as m,F as v,o as g,r as p,U as y,V as $,n as w,d as E,A as x,B as C,C as I,R as V}from"./index.e9726e59.js";async function b(e=1){return new Promise(t=>{setTimeout(()=>{t()},e)})}function j(e,t){const{[t]:n,...s}=e;return s}const{window:k}=I;function D(e,t,n){const s=e.slice();return s[40]=t[n],s[42]=n,s}function M(e){let t,n,g,p,y,$,w,E,x=e[40].name+"";function C(...t){return e[33](e[42],...t)}return{c(){t=s("li"),n=s("i"),p=s("span"),y=o(x),$=s("i"),this.h()},l(e){t=a(e,"LI",{class:!0});var s=c(t);n=a(s,"I",{class:!0}),c(n).forEach(i),p=a(s,"SPAN",{class:!0});var o=c(p);y=l(o,x),o.forEach(i),$=a(s,"I",{class:!0}),c($).forEach(i),s.forEach(i),this.h()},h(){r(n,"class",g=u(`icon ${e[40].lang}`)+" svelte-55gud1"),r(p,"class","svelte-55gud1"),r($,"class",w=u("circle")+" svelte-55gud1"),d($,"active",e[12](e[40].name)),r(t,"class","svelte-55gud1"),d(t,"active",e[13]().name===e[40].name)},m(e,s,o){h(e,t,s),f(t,n),f(t,p),f(p,y),f(t,$),o&&E(),E=m(t,"click",C)},p(s,o){e=s,16384&o[0]&&g!==(g=u(`icon ${e[40].lang}`)+" svelte-55gud1")&&r(n,"class",g),16384&o[0]&&x!==(x=e[40].name+"")&&v(y,x),20480&o[0]&&d($,"active",e[12](e[40].name)),24576&o[0]&&d(t,"active",e[13]().name===e[40].name)},d(e){e&&i(t),E()}}}function L(e){let t,n,o,l,u,v,x,C,I,V,b,j,L,A,B,K,N,W=e[14](),F=[];for(let t=0;t<W.length;t+=1)F[t]=M(D(e,W,t));return{c(){t=s("div"),n=s("div"),o=s("div"),l=g(),u=s("div"),v=s("nav"),x=s("ul");for(let e=0;e<F.length;e+=1)F[e].c();C=g(),I=s("div"),V=g(),b=s("div"),j=s("div"),L=g(),A=s("div"),B=s("iframe"),this.h()},l(e){t=a(e,"DIV",{class:!0,style:!0});var s=c(t);n=a(s,"DIV",{class:!0,style:!0});var r=c(n);o=a(r,"DIV",{class:!0}),c(o).forEach(i),l=p(r),u=a(r,"DIV",{class:!0});var d=c(u);v=a(d,"NAV",{class:!0});var h=c(v);x=a(h,"UL",{class:!0});var f=c(x);for(let e=0;e<F.length;e+=1)F[e].l(f);f.forEach(i),h.forEach(i),C=p(d),I=a(d,"DIV",{class:!0}),c(I).forEach(i),d.forEach(i),V=p(r),b=a(r,"DIV",{class:!0});var m=c(b);j=a(m,"DIV",{class:!0}),c(j).forEach(i),m.forEach(i),L=p(r),A=a(r,"DIV",{class:!0});var g=c(A);B=a(g,"IFRAME",{src:!0,class:!0,title:!0,frameBorder:!0,width:!0,height:!0}),c(B).forEach(i),g.forEach(i),r.forEach(i),s.forEach(i),this.h()},h(){r(o,"class","dummy-catcher svelte-55gud1"),d(o,"active",e[9]),r(x,"class","svelte-55gud1"),r(v,"class","svelte-55gud1"),r(I,"class","editor-container svelte-55gud1"),r(u,"class","editor svelte-55gud1"),r(j,"class","border svelte-55gud1"),r(b,"class","slider svelte-55gud1"),B.src!==(K="javascript:void(0);")&&r(B,"src","javascript:void(0);"),r(B,"class","repl-view svelte-55gud1"),r(B,"title","REPL"),r(B,"frameborder","0"),r(B,"width","100%"),r(B,"height","100%"),r(A,"class","iframe svelte-55gud1"),r(n,"class","repl-container svelte-55gud1"),y(n,"width",e[11]),d(n,"fullscreen",e[8]),r(t,"class","repl-wrapper svelte-55gud1"),y(t,"height",e[10])},m(s,a,c){h(s,t,a),f(t,n),f(n,o),f(n,l),f(n,u),f(u,v),f(v,x);for(let e=0;e<F.length;e+=1)F[e].m(x,null);f(u,C),f(u,I),e[34](I),e[35](u),f(n,V),f(n,b),f(b,j),e[36](b),f(n,L),f(n,A),f(A,B),e[37](B),e[38](A),e[39](n),c&&$(N),N=[m(k,"keydown",e[19]),m(k,"mouseup",e[18]),m(k,"mousemove",e[32]),m(b,"mousedown",e[16])]},p(e,s){if(512&s[0]&&d(o,"active",e[9]),61440&s[0]){let t;for(W=e[14](),t=0;t<W.length;t+=1){const n=D(e,W,t);F[t]?F[t].p(n,s):(F[t]=M(n),F[t].c(),F[t].m(x,null))}for(;t<F.length;t+=1)F[t].d(1);F.length=W.length}2048&s[0]&&y(n,"width",e[11]),256&s[0]&&d(n,"fullscreen",e[8]),1024&s[0]&&y(t,"height",e[10])},i:w,o:w,d(n){n&&i(t),E(F,n),e[34](null),e[35](null),e[36](null),e[37](null),e[38](null),e[39](null),$(N)}}}function A(e,t,n){let s,o,a=w,c=()=>(a(),a=x(y,e=>n(26,s=e)),y),i=w,l=()=>(i(),i=x(u,e=>n(27,o=e)),u);e.$$.on_destroy.push(()=>a()),e.$$.on_destroy.push(()=>i());let{context:r}=t,{theme:u}=t;l();let d,h,f,m,v,g,p,{themes:y}=t;c();let $=!1,E=0,I=0,k={};function D(){for(const e of r.projects)for(const t of e.files)t.userCode=t.content}function M(){return"dark"===s[o].type}function L(){u.subscribe(e=>{window.monaco.editor.setTheme(M()?"vs-dark":"vs")}),(g=window.monaco.editor.create(f,{value:S().content,language:S().lang,theme:M()?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,contextmenu:!1})).onDidChangeModelContent(async e=>{await b();let t=S();const s=`${t.name}-${E}-${I}`;g.getValue()===S().userCode?n(24,k=j(k,s)):n(24,k={...t,[s]:g.getValue()})}),g.addAction({id:"save",label:"Save",keybindings:[monaco.KeyMod.chord(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S)],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:()=>{let e=S();e.userCode=g.getValue(),n(24,k=j(k,`${e.name}-${E}-${I}`)),A()}}),g.addAction({id:"fullscreen",label:"Fullscreen",keybindings:[monaco.KeyCode.F11],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:async()=>{n(8,$=!$),await b(),g.layout()}})}function A(){const e=r.projects[E].template;r.projects[E].files;p.contentWindow.document.removeEventListener("keydown",W),n(7,p=function(e,t){const n=document.createElement("iframe");n.src="javascript:void(0);",n.title=e.getAttribute("title"),n.frameBorder="0",n.className=e.className,n.width=e.width,n.height=e.height;const s=e.parentElement;return s.removeChild(e),s.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.write(t),n.contentWindow.document.close(),n}(p,function(e,t){let n=e;for(const e in t)for(;n.includes(e);)n=n.replace(e,t[e]);return n}(e,q()))),p.contentWindow.document.addEventListener("keydown",W)}function B(e){r.projects.length>1?n(22,E=e):n(23,I=e);const t=k[`${S().name}-${E}-${I}`]||S().userCode;g.setValue(t),monaco.editor.setModelLanguage(g.getModel(),S().lang),r["run-on-switch"]&&A()}C(async()=>{require.config({paths:{vs:"/assets/monaco-editor/vs"}}),require(["vs/editor/editor.main"],()=>{D(),L(),A()})});let K=!1;function N(e){if(K){const t=d.getBoundingClientRect(),s=e.clientX-t.left;s<=t.width-150&&s>=150&&(n(3,h.style.left=`${s-4}px`,h),n(5,m.style.width=`${s}px`,m),n(4,f.style.width=`${s}px`,f))}}async function W(e){122===e.keyCode&&$&&(e.preventDefault(),n(8,$=!1),await b(),g.layout())}let F,P,R,S,_,q;return e.$set=(e=>{"context"in e&&n(20,r=e.context),"theme"in e&&l(n(0,u=e.theme)),"themes"in e&&c(n(1,y=e.themes))}),e.$$.update=(()=>{1048576&e.$$.dirty[0]&&n(10,F=r.height||"300px"),1048576&e.$$.dirty[0]&&n(11,P=r.width||"100%"),29360128&e.$$.dirty[0]&&n(12,R=(e=>k[`${e}-${E}-${I}`])),13631488&e.$$.dirty[0]&&n(13,S=(()=>r.projects[E].files[I])),1048576&e.$$.dirty[0]&&n(14,_=(()=>{if(r.projects.length>1){const e=[];for(const t of r.projects)e.push(t.files[0]);return e}return r.projects[0].files})),5242880&e.$$.dirty[0]&&(q=(()=>{const e={};for(const t of r.projects[E].files)e[t.tpl]=t.userCode;return e}))}),[u,y,d,h,f,m,v,p,$,K,F,P,R,S,_,B,function(){n(9,K=!0)},N,function(){n(9,K=!1)},W,r,g,E,I,k,q,s,o,D,M,L,A,e=>{N(e)},e=>{B(e)},function(e){V[e?"unshift":"push"](()=>{n(4,f=e)})},function(e){V[e?"unshift":"push"](()=>{n(5,m=e)})},function(e){V[e?"unshift":"push"](()=>{n(3,h=e)})},function(e){V[e?"unshift":"push"](()=>{n(7,p=e)})},function(e){V[e?"unshift":"push"](()=>{n(6,v=e)})},function(e){V[e?"unshift":"push"](()=>{n(2,d=e)})}]}export default class extends e{constructor(e){super(),t(this,e,A,L,n,{context:20,theme:0,themes:1},[-1,-1])}}
