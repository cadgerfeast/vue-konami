import{_ as t}from"./typeof.321bbc66.js";import{_ as n,a as e}from"./asyncToGenerator.332733a3.js";import{g as r,_ as o,a,b as c,c as i,i as s,s as u,d as l,S as f,w as d,I as v,z as h,A as p,j as m,J as y,B as g,U as w,Q as b,f as j,C as x,R as E,K as O,v as k,y as $,Y as C,Z as I,n as P,h as S,F as D,G as V,W as M}from"./index.254ba264.js";function L(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function A(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)e=a[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)e=a[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function K(n){var e=function(n,e){if("object"!==t(n)||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,e||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===t(e)?e:String(e)}function W(){return _.apply(this,arguments)}function _(){return(_=n(e.mark(function t(){var n,r=arguments;return e.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,t.abrupt("return",new Promise(function(t){setTimeout(function(){t()},n)}));case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}function B(t,n){t[n];return A(t,[n].map(K))}function N(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function F(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?N(e,!0).forEach(function(n){L(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):N(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}var G=r.window;function R(t,n,e){var r=t.slice();return r[40]=n[e],r[42]=e,r}function T(t){var n,e,r,o,a,c,i,s=t[40].name+"";function u(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t)[33].apply(n,[t[42]].concat(r))}return{c:function(){n=d("li"),e=d("i"),o=d("span"),a=v(s),c=d("i"),this.h()},l:function(t){n=h(t,"LI",{class:!0});var r=p(n);e=h(r,"I",{class:!0}),p(e).forEach(m),o=h(r,"SPAN",{class:!0});var i=p(o);a=y(i,s),i.forEach(m),c=h(r,"I",{class:!0}),p(c).forEach(m),r.forEach(m),this.h()},h:function(){g(e,"class",r=w("icon ".concat(t[40].lang))+" svelte-55gud1"),g(o,"class","svelte-55gud1"),g(c,"class",w("circle")+" svelte-55gud1"),b(c,"active",t[12](t[40].name)),g(n,"class","svelte-55gud1"),b(n,"active",t[13]().name===t[40].name)},m:function(t,r,s){j(t,n,r),x(n,e),x(n,o),x(o,a),x(n,c),s&&i(),i=E(n,"click",u)},p:function(o,i){t=o,16384&i[0]&&r!==(r=w("icon ".concat(t[40].lang))+" svelte-55gud1")&&g(e,"class",r),16384&i[0]&&s!==(s=t[40].name+"")&&O(a,s),20480&i[0]&&b(c,"active",t[12](t[40].name)),24576&i[0]&&b(n,"active",t[13]().name===t[40].name)},d:function(t){t&&m(n),i()}}}function q(t){for(var n,e,r,o,a,c,i,s,u,l,f,v,y,w,O,D,V=t[14](),M=[],L=0;L<V.length;L+=1)M[L]=T(R(t,V,L));return{c:function(){n=d("div"),e=d("div"),r=d("div"),o=k(),a=d("div"),c=d("nav"),i=d("ul");for(var t=0;t<M.length;t+=1)M[t].c();s=k(),u=d("div"),l=k(),f=d("div"),v=d("div"),y=k(),w=d("div"),O=d("iframe"),this.h()},l:function(t){n=h(t,"DIV",{class:!0,style:!0});var d=p(n);e=h(d,"DIV",{class:!0,style:!0});var g=p(e);r=h(g,"DIV",{class:!0}),p(r).forEach(m),o=$(g),a=h(g,"DIV",{class:!0});var b=p(a);c=h(b,"NAV",{class:!0});var j=p(c);i=h(j,"UL",{class:!0});for(var x=p(i),E=0;E<M.length;E+=1)M[E].l(x);x.forEach(m),j.forEach(m),s=$(b),u=h(b,"DIV",{class:!0}),p(u).forEach(m),b.forEach(m),l=$(g),f=h(g,"DIV",{class:!0});var k=p(f);v=h(k,"DIV",{class:!0}),p(v).forEach(m),k.forEach(m),y=$(g),w=h(g,"DIV",{class:!0});var C=p(w);O=h(C,"IFRAME",{src:!0,class:!0,title:!0,frameBorder:!0,width:!0,height:!0}),p(O).forEach(m),C.forEach(m),g.forEach(m),d.forEach(m),this.h()},h:function(){g(r,"class","dummy-catcher svelte-55gud1"),b(r,"active",t[9]),g(i,"class","svelte-55gud1"),g(c,"class","svelte-55gud1"),g(u,"class","editor-container svelte-55gud1"),g(a,"class","editor svelte-55gud1"),g(v,"class","border svelte-55gud1"),g(f,"class","slider svelte-55gud1"),O.src!=="javascript:void(0);"&&g(O,"src","javascript:void(0);"),g(O,"class","repl-view svelte-55gud1"),g(O,"title","REPL"),g(O,"frameborder","0"),g(O,"width","100%"),g(O,"height","100%"),g(w,"class","iframe svelte-55gud1"),g(e,"class","repl-container svelte-55gud1"),C(e,"width",t[11]),b(e,"fullscreen",t[8]),g(n,"class","repl-wrapper svelte-55gud1"),C(n,"height",t[10])},m:function(d,h,p){j(d,n,h),x(n,e),x(e,r),x(e,o),x(e,a),x(a,c),x(c,i);for(var m=0;m<M.length;m+=1)M[m].m(i,null);x(a,s),x(a,u),t[34](u),t[35](a),x(e,l),x(e,f),x(f,v),t[36](f),x(e,y),x(e,w),x(w,O),t[37](O),t[38](w),t[39](e),p&&I(D),D=[E(G,"keydown",t[19]),E(G,"mouseup",t[18]),E(G,"mousemove",t[32]),E(f,"mousedown",t[16])]},p:function(t,o){if(512&o[0]&&b(r,"active",t[9]),61440&o[0]){var a;for(V=t[14](),a=0;a<V.length;a+=1){var c=R(t,V,a);M[a]?M[a].p(c,o):(M[a]=T(c),M[a].c(),M[a].m(i,null))}for(;a<M.length;a+=1)M[a].d(1);M.length=V.length}2048&o[0]&&C(e,"width",t[11]),256&o[0]&&b(e,"fullscreen",t[8]),1024&o[0]&&C(n,"height",t[10])},i:P,o:P,d:function(e){e&&m(n),S(M,e),t[34](null),t[35](null),t[36](null),t[37](null),t[38](null),t[39](null),I(D)}}}function U(t,r,o){var a,c,i=P,s=function(){return i(),i=D(b,function(t){return o(26,a=t)}),b},u=P,l=function(){return u(),u=D(d,function(t){return o(27,c=t)}),d};t.$$.on_destroy.push(function(){return i()}),t.$$.on_destroy.push(function(){return u()});var f=r.context,d=r.theme;l();var v,h,p,m,y,g,w,b=r.themes;s();var j=!1,x=0,E=0,O={};function k(){var t=!0,n=!1,e=void 0;try{for(var r,o=f.projects[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,c=!0,i=!1,s=void 0;try{for(var u,l=a.files[Symbol.iterator]();!(c=(u=l.next()).done);c=!0){var d=u.value;d.userCode=d.content}}catch(t){i=!0,s=t}finally{try{c||null==l.return||l.return()}finally{if(i)throw s}}}}catch(t){n=!0,e=t}finally{try{t||null==o.return||o.return()}finally{if(n)throw e}}}function $(){return"dark"===a[c].type}function C(){d.subscribe(function(t){window.monaco.editor.setTheme($()?"vs-dark":"vs")}),(g=window.monaco.editor.create(p,{value:q().content,language:q().lang,theme:$()?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,contextmenu:!1})).onDidChangeModelContent(function(){var t=n(e.mark(function t(n){var r,a;return e.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:r=q(),a="".concat(r.name,"-").concat(x,"-").concat(E),g.getValue()===q().userCode?o(24,O=B(O,a)):o(24,O=F({},r,L({},a,g.getValue())));case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()),g.addAction({id:"save",label:"Save",keybindings:[monaco.KeyMod.chord(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S)],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){var t=q();t.userCode=g.getValue(),o(24,O=B(O,"".concat(t.name,"-").concat(x,"-").concat(E))),I()}}),g.addAction({id:"fullscreen",label:"Fullscreen",keybindings:[monaco.KeyCode.F11],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){var t=n(e.mark(function t(){return e.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o(8,j=!j),t.next=3,W();case 3:g.layout();case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})}function I(){var t=f.projects[x].template;f.projects[x].files;w.contentWindow.document.removeEventListener("keydown",_),o(7,w=function(t,n){var e=document.createElement("iframe");e.src="javascript:void(0);",e.title=t.getAttribute("title"),e.frameBorder="0",e.className=t.className,e.width=t.width,e.height=t.height;var r=t.parentElement;return r.removeChild(t),r.appendChild(e),e.contentWindow.document.open(),e.contentWindow.document.write(n),e.contentWindow.document.close(),e}(w,function(t,n){var e=t;for(var r in n)for(;e.includes(r);)e=e.replace(r,n[r]);return e}(t,Y()))),w.contentWindow.document.addEventListener("keydown",_)}function S(t){f.projects.length>1?o(22,x=t):o(23,E=t);var n=O["".concat(q().name,"-").concat(x,"-").concat(E)]||q().userCode;g.setValue(n),monaco.editor.setModelLanguage(g.getModel(),q().lang),f["run-on-switch"]&&I()}V(n(e.mark(function t(){return e.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:require.config({paths:{vs:"/assets/monaco-editor/vs"}}),require(["vs/editor/editor.main"],function(){k(),C(),I()});case 2:case"end":return t.stop()}},t)})));var A=!1;function K(t){if(A){var n=v.getBoundingClientRect(),e=t.clientX-n.left;e<=n.width-150&&e>=150&&(o(3,h.style.left="".concat(e-4,"px"),h),o(5,m.style.width="".concat(e,"px"),m),o(4,p.style.width="".concat(e,"px"),p))}}function _(t){return N.apply(this,arguments)}function N(){return(N=n(e.mark(function t(n){return e.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(122!==n.keyCode||!j){t.next=6;break}return n.preventDefault(),o(8,j=!1),t.next=5,W();case 5:g.layout();case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}var G,R,T,q,U,Y;return t.$set=function(t){"context"in t&&o(20,f=t.context),"theme"in t&&l(o(0,d=t.theme)),"themes"in t&&s(o(1,b=t.themes))},t.$$.update=function(){1048576&t.$$.dirty[0]&&o(10,G=f.height||"300px"),1048576&t.$$.dirty[0]&&o(11,R=f.width||"100%"),29360128&t.$$.dirty[0]&&o(12,T=function(t){return O["".concat(t,"-").concat(x,"-").concat(E)]}),13631488&t.$$.dirty[0]&&o(13,q=function(){return f.projects[x].files[E]}),1048576&t.$$.dirty[0]&&o(14,U=function(){if(f.projects.length>1){var t=[],n=!0,e=!1,r=void 0;try{for(var o,a=f.projects[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var c=o.value;t.push(c.files[0])}}catch(t){e=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(e)throw r}}return t}return f.projects[0].files}),5242880&t.$$.dirty[0]&&(Y=function(){var t={},n=!0,e=!1,r=void 0;try{for(var o,a=f.projects[x].files[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var c=o.value;t[c.tpl]=c.userCode}}catch(t){e=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(e)throw r}}return t})},[d,b,v,h,p,m,y,w,j,A,G,R,T,q,U,S,function(){o(9,A=!0)},K,function(){o(9,A=!1)},_,f,g,x,E,O,Y,a,c,k,$,C,I,function(t){K(t)},function(t){S(t)},function(t){M[t?"unshift":"push"](function(){o(4,p=t)})},function(t){M[t?"unshift":"push"](function(){o(5,m=t)})},function(t){M[t?"unshift":"push"](function(){o(3,h=t)})},function(t){M[t?"unshift":"push"](function(){o(7,w=t)})},function(t){M[t?"unshift":"push"](function(){o(6,y=t)})},function(t){M[t?"unshift":"push"](function(){o(2,v=t)})}]}export default(function(t){function n(t){var e;return a(this,n),e=c(this,i(n).call(this)),s(l(e),t,U,q,u,{context:20,theme:0,themes:1},[-1,-1]),e}return o(n,f),n}());
