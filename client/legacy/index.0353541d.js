import{s as n,n as r}from"./index.254ba264.js";var t=[];function e(n,r){return{subscribe:i(n,r).subscribe}}function i(e){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,u=[];function a(r){if(n(e,r)&&(e=r,i)){for(var s=!t.length,a=0;a<u.length;a+=1){var o=u[a];o[1](),t.push(o,e)}if(s){for(var f=0;f<t.length;f+=2)t[f][0](t[f+1]);t.length=0}}}return{set:a,update:function(n){a(n(e))},subscribe:function(n){var t=[n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:r];return u.push(t),1===u.length&&(i=s(a)||r),n(e),function(){var n=u.indexOf(t);-1!==n&&u.splice(n,1),0===u.length&&(i(),i=null)}}}}export{e as r,i as w};
